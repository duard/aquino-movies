<div *ngIf="(error$ | async)">
  Error! {{ error$ | async}}
</div>
<div *ngIf="(isLoading$ | async)">
  Loading...
</div>
<!-- <pre>{{isLoading$ | async}}</pre> -->
<!-- <div class="container" *ngIf="!(isLoading$ | async) as loading"> -->

  <ng-container *ngIf="selectedMovie$  | async as movie">
    <!-- <div *ngIf="(selectedMovie$ | async)"> -->
    <div *appShowMovie="id ===  ((selectedMovie$ | async)?.imdbID || '')" class="container">
      <div class="row">
        <div class="col-md-8">
          <h1 class="mt-3">{{movie.Title}}</h1>


          <p><strong>Plot:</strong> {{movie.Plot}}</p>
          <p><strong>Actors:</strong> {{movie.Actors}}</p>
          <span [ngClass]="movie.Type">{{ movie.Type }}</span>

          <div *ngFor="let rating of (selectedMovieRatings$ | async) ; trackBy: trackByMethod">
            <div>
              <strong> {{rating.source}} :</strong>
            </div>
            <ngb-rating [(rate)]="rating.value" [max]="rating.maxValue" [readonly]="true"></ngb-rating>
          </div>
          <div class="my-4">
            <button type="button" class="btn btn-primary">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class="bi bi-hand-thumbs-up" viewBox="0 0 16 16">

              </svg>
              Like
            </button>
          </div>
        </div>
        <div class="col-md-4 d-flex flex-column justify-content-center align-items-center">
          <div class="my-4">
            <img [src]="movie.Poster" alt="Movie Poster" class="img-fluid">
          </div>
        </div>
      </div>
    </div>
    <!-- </div> -->
  </ng-container>
<!-- </div> -->
<pre>{{selectedMovie$ | async | json}}</pre>
